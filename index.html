<!DOCTYPE html>
<head>
  <title>Mixdown with tomd.js</title>
  <link rel="stylesheet" type="text/css" href="lib/bootstrap/stylesheets/bootstrap.min.css">
  <link href='http://fonts.googleapis.com/css?family=Oxygen&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="lib/stylesheets/tomd.css">
</head>
<body>
 
  <a href="https://github.com/73rhodes/tomd"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>
 
  <div class="container-fluid">

    <div class="page-header">
      <h1>mixdown <small><small>with</small> tomd.js</small></h1>
      <p>
        Back-asswards Markdown! Convert HTML to Markdown using the DOM (experimental work-in-progress). To test, edit the left side.
      </p>
    </div>

    <div class="row">

      <div class="col-md-6">
        <div id="htmlside" class="well" contenteditable="true" onkeyup="updatemd();">
          <h1 id="hello">Header <small>with inline elements</small></h1>
          Bare text with
          <small>inline</small> 
          elements.<br/>
          <p>
            Paragraphs.
          </p>
          <p>
            Paragraphs with line breaks:<br/>
            such as this.
          </p>
          <ul>
            <li>Lists</li>
            <li>with unordered items</li>
            <ol>
              <li>Nested lists</li>
              <li>with ordered items</li>
            </ol>
          </ul>
          Bare text and line breaks.<br/>
          <p>
            &lt;pre&gt;escaped chevrons&lt;/pre&gt;
          </p>
          <code>
            function foo(bar) {
              return bar / bar + 1;
            }
          </code>
<pre>
Preformatted, non-code text blocks.
Should support newlines.
</pre>
<pre><code>// multiline code blocks
print("evidently are not working");
</code></pre>
        </div>
      </div>

      <div class="col-md-6">
        <!--
        <pre id="markd ownside" class="well">
        </pre>
        -->
        <textarea id="markdownside" class="form-control" rows="25">some text</textarea>
      </div>

    </div>
  </div>

  <script type="text/javascript" src="lib/javascript/jquery.min.js"></script>
  <script type="text/javascript" src="lib/bootstrap/javascript/bootstrap.min.js"></script>
  <script type="text/javascript" src="lib/javascript/marked.min.js"></script>
  <script type="text/javascript" src="src/tomd.js"></script>
  <script type="text/javascript">
    function updatemd() {
      //var html = document.getElementById('htmlside');
      var mdside = document.getElementById('markdownside');
      var md = tomd(htmlside); //.trim().replace(/[\n]{2,}/g, "\n\n");
      mdside.value = md;
      var str = mdside.value
    }
    updatemd();
  </script>
</body>
