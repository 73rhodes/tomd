<!DOCTYPE html>
<head>
  <title>Mixdown with tomd.js</title>
  <link rel="stylesheet" type="text/css" href="lib/bootstrap/stylesheets/bootstrap.min.css">
  <link href='http://fonts.googleapis.com/css?family=Oxygen&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="lib/stylesheets/tomd.css">
</head>
<body>
 
  <a href="https://github.com/73rhodes/tomd"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>
 
  <div class="container-fluid">

    <div class="page-header">
      <h1>mixdown <small><small>with</small> tomd.js</small></h1>
      <p>
        HTML to Markdown using the DOM. Edit the left side or check the
        <a href="test/test.html">tests</a>.
      </p>
    </div>

    <div class="row">

      <div class="col-md-6">
        <div id="htmlside" class="well" contenteditable="true" onkeyup="updatemd();">
          <h1 id="hello">Edit Me <small>start typing here</small></h1>
          <p>
            Text with <small>inline</small> elements.<br/>
          </p>
          <p>
            Paragraphs.
          </p>
          
          <ul>
            <li>Lists</li>
            <li>with unordered items</li>
          </ul>
          <blockquote>
            Block quotes.
          </blockquote>
          <p>
          <code>foo(bar);</code>
          </p>
<pre>
Preformatted, non-code text blocks
preserve newlines
  and whitespace.
</pre>
<pre><code>// multiline code blocks
print("hello tomd.js");
</code></pre>
        </div>
      </div>

      <div class="col-md-6">
        <!--
        <pre id="markd ownside" class="well">
        </pre>
        -->
        <textarea id="markdownside" class="form-control" rows="25" onkeyup="updatehtml();">some text</textarea>
      </div>

    </div>
  </div>

  <script type="text/javascript" src="lib/javascript/jquery.min.js"></script>
  <script type="text/javascript" src="lib/bootstrap/javascript/bootstrap.min.js"></script>
  <script type="text/javascript" src="lib/javascript/marked.min.js"></script>
  <script type="text/javascript" src="src/tomd.js"></script>
  <script type="text/javascript">
    function updatehtml() {
      var ht = marked(markdownside.value);
      htmlside.innerHTML = ht;
      //alert(ht);
    }
    function updatemd() {
      //var mdside = document.getElementById('markdownside');
      var md = tomd(htmlside); //.trim().replace(/[\n]{2,}/g, "\n\n");
      markdownside.value = md;
      //var str = mdside.value
    }
    updatemd();
  </script>
</body>
