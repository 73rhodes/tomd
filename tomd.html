<!DOCTYPE html>
<head>
  <title>Mixdown with tomd.js</title>
  <link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
  <link href='http://fonts.googleapis.com/css?family=Oxygen&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="stylesheets/tomd.css">
</head>
<body>

 
  <div class="container-fluid">

    <div class="page-header">
      <h1>mixdown <small><small>with</small> tomd.js</small></h1>
    </div>

    <div class="row">

      <div class="col-md-6">
        <div id="htmlside" class="well" contenteditable="true" onkeyup="updatemd();">
          <h1 id="hello">Header <small>with inline elements</small></h1>
          Bare text with
          <small>inline</small> 
          elements.<br/>
          <p>
            Paragraphs.
          </p>
          <p>
            Paragraphs with line breaks:<br/>
            such as this.
          </p>
          <ul>
            <li>Lists</li>
            <li>with unordered items</li>
            <ol>
              <li>Nested lists</li>
              <li>with ordered items</li>
            </ol>
          </ul>
          Bare text and line breaks.<br/>
          <p>
            &lt;pre&gt;escaped chevrons&lt;/pre&gt;
          </p>
          <code>
            function foo(bar) {
              return bar / bar + 1;
            }
          </code>
<pre>
Preformatted, non-code text blocks.
Should support newlines.
</pre>
<pre><code>// multiline code blocks
print("evidently are not working");
</code></pre>
        </div>
      </div>

      <div class="col-md-6">
        <!--
        <pre id="markd ownside" class="well">
        </pre>
        -->
        <textarea id="markdownside" class="form-control" rows="25">some text</textarea>
      </div>

    </div>
  </div>

  <script type="text/javascript" src="javascript/jquery.min.js"></script>
  <script type="text/javascript" src="javascript/bootstrap.min.js"></script>
  <script type="text/javascript" src="javascript/marked.min.js"></script>
  <script type="text/javascript" src="javascript/tomd.js"></script>
  <script type="text/javascript">
    function updatemd() {
      //var html = document.getElementById('htmlside');
      var mdside = document.getElementById('markdownside');
      var md = tomd(htmlside); //.trim().replace(/[\n]{2,}/g, "\n\n");
      mdside.value = md;
      var str = mdside.value
    }
    updatemd();
  </script>
</body>
